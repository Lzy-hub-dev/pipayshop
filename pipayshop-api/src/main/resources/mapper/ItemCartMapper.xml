<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.pipayshopapi.mapper.ItemCartMapper">


    <select id="selectItemCartByIds" resultType="com.example.pipayshopapi.entity.vo.ItemCartVO">
        SELECT c.cart_id,c.user_id,c.commodity_id,i.price,i.item_commodity_name,i.avatar_imag,i.free_shipping_num,i.coupons_list,i.status,i.tag_list
        from item_cart as c
                 LEFT JOIN item_commodity_info as i on c.commodity_id=i.commodity_id
        WHERE
            c.user_id=#{userId}
            limit #{pages},#{limit};
    </select>
    <select id="selectItemCartTotal" resultType="java.lang.Integer">
        SELECT COUNT(*) as total from item_cart as c
        LEFT JOIN item_commodity_info as i on c.commodity_id=i.commodity_id
        WHERE
            c.user_id=#{userId};
    </select>
</mapper>
